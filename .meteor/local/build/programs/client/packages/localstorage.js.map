)]}'
{"version":3,"file":"/packages/localstorage.js","sources":["localstorage/localstorage.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yD;;AAEA,0B;AACA,0B;AACA,6B;AACA,8C;AACA,M;AACA,oC;AACA,8C;AACA,M;AACA,gC;AACA,0C;AACA,K;AACA,I;AACA,C;AACA,gE;AACA,qE;AACA,qE;AACA,uD;AACA,sC;AACA,kC;AACA,iE;;AAEA,mC;AACA,6B;;AAEA,0B;AACA,kC;AACA,sC;AACA,iC;AACA,M;;AAEA,gC;AACA,oC;AACA,iC;AACA,M;;AAEA,6B;AACA,iC;AACA,wC;AACA,K;AACA,I;AACA,Q;AACA,gB;AACA,iE;AACA,kE;AACA,gC;;AAEA,0B;AACA,c;;AAEA,kC;AACA,4B;AACA,M;AACA,gC;AACA,6B;AACA,M;AACA,6B;AACA,kC;AACA,8B;AACA,oB;AACA,U;AACA,qB;AACA,K;AACA,I;AACA,C","sourcesContent":["// This is not an ideal name, but we can change it later.\n\nif (window.localStorage) {\n  Meteor._localStorage = {\n    getItem: function (key) {\n      return window.localStorage.getItem(key);\n    },\n    setItem: function (key, value) {\n      window.localStorage.setItem(key, value);\n    },\n    removeItem: function (key) {\n      window.localStorage.removeItem(key);\n    }\n  };\n}\n// XXX eliminate dependency on jQuery, detect browsers ourselves\nelse if ($.browser.msie) { // If we are on IE, which support userData\n  var userdata = document.createElement('span'); // could be anything\n  userdata.style.behavior = 'url(\"#default#userData\")';\n  userdata.id = 'localstorage-helper';\n  userdata.style.display = 'none';\n  document.getElementsByTagName(\"head\")[0].appendChild(userdata);\n\n  var userdataKey = 'localStorage';\n  userdata.load(userdataKey);\n\n  Meteor._localStorage = {\n    setItem: function (key, val) {\n      userdata.setAttribute(key, val);\n      userdata.save(userdataKey);\n    },\n\n    removeItem: function (key) {\n      userdata.removeAttribute(key);\n      userdata.save(userdataKey);\n    },\n\n    getItem: function (key) {\n      userdata.load(userdataKey);\n      return userdata.getAttribute(key);\n    }\n  };\n} else {\n  Meteor._debug(\n    \"You are running a browser with no localStorage or userData \"\n      + \"support. Logging in from one tab will not cause another \"\n      + \"tab to be logged in.\");\n\n  Meteor._localStorage = {\n    _data: {},\n\n    setItem: function (key, val) {\n      this._data[key] = val;\n    },\n    removeItem: function (key) {\n      delete this._data[key];\n    },\n    getItem: function (key) {\n      var value = this._data[key];\n      if (value === undefined)\n        return null;\n      else\n        return value;\n    }\n  };\n}\n"]}